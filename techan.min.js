/*
 TechanJS v0.1.0
 (c) 2014 - 2014 Andre Dumas | https://github.com/andredumas/techan.js
*/
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.techan=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";b.exports=function(){return{ohlc:a("./ohlc"),volume:a("./volume"),macd:a("./macd"),rsi:a("./rsi"),value:a("./value")}}},{"./macd":2,"./ohlc":3,"./rsi":4,"./value":5,"./volume":6}],2:[function(a,b){"use strict";b.exports=function(){function a(b){return a.m(b)}function b(){return a.d=c,a.m=d,a.s=f,a.dif=g,a.z=e,a}var c=function(a){return a.date},d=function(a){return a.macd},e=function(){return 0},f=function(a){return a.signal},g=function(a){return a.difference};return a.date=function(a){return arguments.length?(c=a,b()):c},a.macd=function(a){return arguments.length?(d=a,b()):d},a.signal=function(a){return arguments.length?(f=a,b()):f},a.difference=function(a){return arguments.length?(g=a,b()):g},b()}},{}],3:[function(a,b){"use strict";b.exports=function(){function a(b){return a.c(b)}function b(){return a.d=c,a.o=d,a.h=e,a.l=f,a.c=g,a.v=h,a}var c=function(a){return a.date},d=function(a){return a.open},e=function(a){return a.high},f=function(a){return a.low},g=function(a){return a.close},h=function(a){return a.volume};return a.date=function(a){return arguments.length?(c=a,b()):c},a.open=function(a){return arguments.length?(d=a,b()):d},a.high=function(a){return arguments.length?(e=a,b()):e},a.low=function(a){return arguments.length?(f=a,b()):f},a.close=function(a){return arguments.length?(g=a,b()):g},a.volume=function(a){return arguments.length?(h=a,b()):h},b()}},{}],4:[function(a,b){"use strict";b.exports=function(){function a(b){return a.r(b)}function b(){return a.d=c,a.r=d,a.ob=e,a.os=f,a.m=g,a}var c=function(a){return a.date},d=function(a){return a.rsi},e=function(){return 70},f=function(){return 30},g=function(){return 50};return a.date=function(a){return arguments.length?(c=a,b()):c},a.rsi=function(a){return arguments.length?(d=a,b()):d},a.overbought=function(a){return arguments.length?(e=a,b()):e},a.oversold=function(a){return arguments.length?(f=a,b()):f},a.middle=function(a){return arguments.length?(g=a,b()):g},b()}},{}],5:[function(a,b){"use strict";b.exports=function(){function a(b){return a.v(b)}function b(){return a.d=c,a.v=d,a.z=e,a}var c=function(a){return a.date},d=function(a){return a.value},e=function(){return 0};return a.date=function(a){return arguments.length?(c=a,b()):c},a.value=function(a){return arguments.length?(d=a,b()):d},a.zero=function(a){return arguments.length?(e=a,b()):e},b()}},{}],6:[function(a,b){"use strict";b.exports=function(){function a(b){return a.v(b)}function b(){return a.d=c,a.v=d,a}var c=function(a){return a.date},d=function(a){return a.volume};return a.date=function(a){return arguments.length?(c=a,b()):c},a.volume=function(a){return arguments.length?(d=a,b()):d},b()}},{}],7:[function(a,b){"use strict";b.exports=function(b){return{supstance:a("./supstance")(b.scale.linear)}}},{"./supstance":8}],8:[function(a,b){"use strict";function c(){}b.exports=function(a,b,d){function e(){function e(){}{var f=b(),g=a();d()}return e.refresh=function(){c(g)},e.xScale=function(a){return arguments.length?(this.xScale=a,e):f},e.yScale=function(a){return arguments.length?(this.yScale=a,e):g},e}return e}},{}],9:[function(a,b){"use strict";function c(a,b,c,f){a.selectAll("path.candle.body").attr({d:d(b,c,f)}),a.selectAll("path.candle.wick").attr({d:e(b,c,f)})}function d(a,b,c){return function(d){var e=[],f=b(a.d(d)),g=c(a.o(d)),h=c(a.c(d)),i=b.rangeBand();return e.push("M",f,g),e.push("l",i,0),g!=h&&(e.push("L",f+i,h),e.push("l",-i,0),e.push("L",f,g)),e.join(" ")}}function e(a,b,c){return function(d){var e=[],f=b(a.d(d)),g=c(a.o(d)),h=c(a.c(d)),i=b.rangeBand(),j=f+i/2;return e.push("M",j,c(a.h(d))),e.push("L",j,Math.min(g,h)),g==h&&(e.push("M",f,g),e.push("l",i,0)),e.push("M",j,Math.max(g,h)),e.push("L",j,c(a.l(d))),e.join(" ")}}b.exports=function(a,b,d,e,f){return function(){function g(c,d){function f(a){return j(h.accessor.v(a))}var i=e.groupSelect(c,d,h.accessor.d),j=a().domain(b(d.map(h.accessor.v))).range([.2,1]);i.entry.append("path").attr({"class":"candle body"}).classed(e.classedUpDown(h.accessor)),i.entry.append("path").attr({"class":"candle wick"}).classed(e.classedUpDown(h.accessor)),i.selection.selectAll("path").style("opacity",f),g.refresh(c)}var h={};return g.refresh=function(a){c(a,h.accessor,h.xScale,h.yScale)},f(g,h,d()),g}}},{}],10:[function(a,b){"use strict";b.exports=function(b){var c=a("../scale")(b),d=a("../accessor")(),e=a("./plot")(b),f=a("./plotmixin")(b.scale.linear,c.financetime),g=a("./line");return{candlestick:a("./candlestick")(b.scale.linear,b.extent,d.ohlc,e,f),ohlc:a("./ohlc")(b.scale.linear,b.extent,d.ohlc,e,f),close:g(d.ohlc,e,f),volume:a("./volume")(d.volume,e,f),rsi:a("./rsi")(d.rsi,e,f),macd:a("./macd")(d.macd,e,f),movingaverage:g(d.value,e,f),momentum:g(d.value,e,f,!0),moneyflow:g(d.value,e,f,!0)}}},{"../accessor":1,"../scale":18,"./candlestick":9,"./line":11,"./macd":12,"./ohlc":13,"./plot":14,"./plotmixin":15,"./rsi":16,"./volume":17}],11:[function(a,b){"use strict";function c(a,b,c,d,e,f){a.selectAll("path.line").attr({d:e.pathLine(b.d,c,b,d)}),f&&a.selectAll("path.zero").attr({d:e.horizontalPathLine(c,b.z,d)})}b.exports=function(a,b,d,e){function f(){function f(a,c){var d=b.groupSelect(a,[c],g.accessor.date());d.entry.append("path").attr({"class":"line"}),e&&d.selection.append("path").attr({"class":"zero"}),f.refresh(a)}var g={};return f.refresh=function(a){c(a,g.accessor,g.xScale,g.yScale,b,e)},d(f,g,a()),f}return e=e||!1,f}},{}],12:[function(a,b){"use strict";function c(a,b,c,e,f){a.selectAll("path.difference").attr({d:d(b,c,e)}),a.selectAll("path.zero").attr({d:f.horizontalPathLine(c,b.z,e)}),a.selectAll("path.macd").attr({d:f.pathLine(b.d,c,b.m,e)}),a.selectAll("path.signal").attr({d:f.pathLine(b.d,c,b.s,e)})}function d(a,b,c){return function(d){var e=[],f=b(a.d(d)),g=c(0),h=c(a.dif(d))-g,i=b.rangeBand();return e.push("M",f,g),e.push("l",0,h),e.push("l",i,0),e.push("l",0,-h),e.join(" ")}}b.exports=function(a,b,d){function e(){function e(a,c){var d=b.groupSelect(a,[c],f.accessor.d),g=d.selection.append("g").attr({"class":"difference"}).selectAll("g.difference").data(function(a){return a});g.append("path").attr({"class":"difference"}),d.selection.append("path").attr({"class":"zero"}),d.selection.append("path").attr({"class":"macd"}),d.selection.append("path").attr({"class":"signal"}),e.refresh(a)}var f={};return e.refresh=function(a){c(a,f.accessor,f.xScale,f.yScale,b)},d(e,f,a()),e}return e}},{}],13:[function(a,b){"use strict";function c(a,b,c,e){a.selectAll("path.ohlc").attr({d:d(b,c,e)})}function d(a,b,c){return function(d){var e=[],f=b(a.d(d)),g=c(a.o(d)),h=c(a.c(d)),i=b.rangeBand(),j=f+i/2;return e.push("M",f,g),e.push("l",i/2,0),e.push("M",j,c(a.h(d))),e.push("L",j,c(a.l(d))),e.push("M",j,h),e.push("l",i/2,0),e.join(" ")}}b.exports=function(a,b,d,e,f){return function(){function a(c,d){e.groupSelect(c,d,b.accessor.d).entry.append("path").attr({"class":"ohlc"}).classed(e.classedUpDown(b.accessor)),a.refresh(c)}var b={};return a.refresh=function(a){c(a,b.accessor,b.xScale,b.yScale)},f(a,b,d()),a}}},{}],14:[function(a,b){"use strict";b.exports=function(a){function b(a,b,c){var d=a.selectAll("g.data").data(b,c);return d.exit().remove(),d}function c(a){return a.enter().append("g").attr({"class":"data"})}return{dataSelection:b,dataEntry:c,groupSelect:function(a,d,e){var f=b(a,d,e),g=c(f);return{selection:f,entry:g}},classedUpDown:function(a){return{up:function(b){return a.o(b)<a.c(b)},down:function(b){return a.o(b)>a.c(b)}}},horizontalPathLine:function(a,b,c){return function(d){var e=[],f=a.rangeExtent();return e.push("M",f[0],c(b(d))),e.push("l",f[1]-f[1],0),e.join(" ")}},pathLine:function(b,c,d,e){var f=c.rangeBand()/2;return a.svg.line().interpolate("monotone").x(function(a){return c(b(a))+f}).y(function(a){return e(d(a))})}}}},{}],15:[function(a,b){"use strict";b.exports=function(a,b){function c(c,d,e){function f(){return d.xScale=g,d.yScale=h,d.accessor=e,c}var g=b(),h=a();c.accessor=function(a){return arguments.length?(e=a,f()):e},c.xScale=function(a){return arguments.length?(g=a,f()):g},c.yScale=function(a){return arguments.length?(h=a,f()):h},f()}return c}},{}],16:[function(a,b){"use strict";function c(a,b,c,d,e){a.selectAll("path.overbought").attr({d:e.horizontalPathLine(c,b.ob,d)}),a.selectAll("path.middle").attr({d:e.horizontalPathLine(c,b.m,d)}),a.selectAll("path.oversold").attr({d:e.horizontalPathLine(c,b.os,d)}),a.selectAll("path.rsi").attr({d:e.pathLine(b.d,c,b.r,d)})}b.exports=function(a,b,d){function e(){function e(a,c){var d=b.groupSelect(a,[c],f.accessor.d);d.entry.append("path").attr({"class":"overbought"}),d.entry.append("path").attr({"class":"middle"}),d.entry.append("path").attr({"class":"oversold"}),d.entry.append("path").attr({"class":"rsi"}),e.refresh(a)}var f={};return e.refresh=function(a){c(a,f.accessor,f.xScale,f.yScale,b)},d(e,f,a()),e}return e}},{}],17:[function(a,b){"use strict";function c(a,b,c,e){a.selectAll("path.volume").attr({d:d(b,c,e)})}function d(a,b,c){return function(d){var e=[],f=b(a.d(d)),g=c(0),h=c(a.v(d))-g,i=b.rangeBand();return e.push("M",f,g),e.push("l",0,h),e.push("l",i,0),e.push("l",0,-h),e.join(" ")}}b.exports=function(a,b,d){function e(){function e(a,c){var d=b.groupSelect(a,c,f.accessor.d).entry.append("path").attr({"class":"volume"});f.accessor.o&&f.accessor.c&&d.classed(b.classedUpDown(f.accessor)),e.refresh(a)}var f={};return e.refresh=function(a){c(a,f.accessor,f.xScale,f.yScale)},d(e,f,a()),e}return e}},{}],18:[function(a,b){"use strict";function c(a,b,c){return c.length>0?a.extent(c,b):null}function d(a,b,d){return a.scale.linear().domain(c(a,b,d)).range([1,0])}b.exports=function(a){return{financetime:function(){var b=a.scale.ordinal(),c=b.range;return b.range=function(a){return arguments.length?b.rangeRoundBands(a,.2):c()},b},analysis:{supstance:function(){return a.scale.linear()},trendline:function(){return a.scale.linear()}},plot:{percent:function(a,b){var c=a.domain();return a.copy().domain([(c[0]-b)/b,(c[1]-b)/b])},ohlc:function(b,c){return a.scale.linear().domain([.98*a.min(c.map(b.low())),1.03*a.max(c.map(b.high()))]).range([1,0])},volume:function(b,c){return a.scale.linear().domain([0,1.15*a.max(c.map(b))]).range([1,0])},rsi:function(){return a.scale.linear().domain([0,100]).range([1,0])},path:function(b,c){return d(a,b,c)},momentum:function(b,c){return d(a,b,c)},moneyflow:function(b,c){return d(a,b,c)},macd:function(b,c){return d(a,b,c)},movingaverage:function(b,c){return d(a,b,c)}},position:{}}}},{}],19:[function(a,b){"use strict";b.exports=function(b){return{version:"0.1.0",accessor:a("./accessor")(),analysis:a("./analysis")(b),plot:a("./plot")(b),scale:a("./scale")(b)}}(d3)},{"./accessor":1,"./analysis":7,"./plot":10,"./scale":18}]},{},[19])(19)});
//# sourceMappingURL=techan.min.map